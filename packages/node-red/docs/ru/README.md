# node-red-contrib-xmihome

[RU] | [[EN]](../../README.md)

Набор узлов [Node-RED](https://nodered.org/) для управления
устройствами [Xiaomi Mi Home](https://home.mi.com/) с
использованием библиотеки [`xmihome`](https://www.npmjs.com/package/xmihome).

Эти узлы позволяют обнаруживать устройства и управлять ими через
облако Xiaomi, локальную сеть (протокол MiIO) или Bluetooth LE.

## Возможности

* **Три способа подключения:** Cloud, MiIO (локально) и Bluetooth LE.
* **Автоматическое обнаружение:** Находит устройства в облаке и в локальной сети.
* **Простое управление:** Получайте и устанавливайте свойства устройств
(вкл/выкл, температура, влажность и т.д.).
* **Подписка на события:** Получайте обновления от устройств в реальном времени.
* **Полная локализация:** Интерфейс на русском и английском языках.
* **Подробная справка:** Встроенная документация для каждого узла в
панели "Help" Node-RED.

## Установка

Установите через палитру Node-RED (Manage Palette) или выполните команду в
вашей директории Node-RED:

```bash
npm install node-red-contrib-xmihome
```

**Примечание для пользователей Linux, использующих Bluetooth:**
Пакет попытается автоматически настроить разрешения D-Bus.
Если у вас возникнут проблемы, обратитесь к [инструкциям в основной библиотеке](https://github.com/alex2844/node-xmihome/tree/main/packages/node#установка).

## Узлы

* **`xmihome-config` (Configuration):**
Настраивает ваши учетные данные Xiaomi и параметры подключения по умолчанию.
* **`xmihome-devices` (Discovery):**
Запускает процесс обнаружения и возвращает список найденных устройств.
* **`xmihome-device` (Control):**
Взаимодействует с одним конкретным устройством для получения/установки
свойств или подписки на уведомления.
